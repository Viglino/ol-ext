<!DOCTYPE html>
<html>
<head>
<!--
  Copyright (c) 2015-2021 Jean-Marc VIGLINO,
  released under CeCILL-B (french BSD like) licence: http://www.cecill.info/
-->
  <title>ol-ext: inputs!</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

  <meta name="description" content="Animated canvas Overlay for Openlayers" />
  <meta name="keywords" content="openlayers, ol, input, color, checkbox, width, pattern" />

  <meta name="msapplication-tap-highlight" content="no" />
  <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1" />

  <!-- jQuery -->
  <script type="text/javascript" src="https://code.jquery.com/jquery-1.11.0.min.js"></script>
  <!-- FontAwesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

  <!-- Openlayers -->
  <link rel="stylesheet" href="https://openlayers.org/en/latest/css/ol.css" />
  <script type="text/javascript" src="https://openlayers.org/en/latest/build/ol.js"></script>
  <script src="https://cdn.polyfill.io/v2/polyfill.min.js?features=requestAnimationFrame,Element.prototype.classList,URL,Object.assign"></script>
  
  <!-- ol-ext -->
  <link rel="stylesheet" href="../../dist/ol-ext.css" />
  <script type="text/javascript" src="../../dist/ol-ext.js"></script>
  <!-- Pointer events polyfill for old browsers, see https://caniuse.com/#feat=pointer -->
  <script src="https://unpkg.com/elm-pep"></script>
  
  <link rel="stylesheet" href="../style.css" />
  <style>
    body {
     user-select: none; 
    }
    .ol-input-popup.marker li > * {
      background-color: transparent;
      width: .6em;
    }
    .marker li > *:before {
      content: "\f041";
      font-family: FontAwesome;
      color: #369;
    }

    .ol-input-popup.arrow ul {
      left: 10px;
    }
    .ol-input-popup.arrow li {
      padding: 10px 5px;
    }
    .ol-input-popup.arrow i {
      position: relative;
      display: block;
      width: 100px;
      color: #369;
      background-color: currentColor;
      height: 2px;
    }
    .ol-input-popup.arrow > div {
      position: relative;
      display: inline-block;
      vertical-align: middle;
      border-radius: 2px;
      border: 1px solid #999;
      padding: 3px 20px 3px 10px
    }
    .ol-input-popup.arrow > div:before {
      position: absolute;
      content: "";
      right: 5px;
      top: 50%;
      border: 5px solid transparent;
      border-top: 5px solid #999;
    }
    .ol-input-popup.arrow > div > i {
      display: inline-block;
      vertical-align: middle;
      width: 40px;
    }
    .ol-input-popup.arrow i:before,
    .ol-input-popup.arrow i:after {
      content: "";
      position: absolute;
      border: 0 solid transparent;
      border-color: transparent currentColor;
      top: 50%;
      transform: translateY(-50%);
    }
    .ol-input-popup.arrow i.arrow1:before {
      border-width: 5px 0 5px 10px;
      right: 0;
    }
    .ol-input-popup.arrow i.arrow-1:before {
      border-width: 5px 10px 5px 0;
      left: 0;
    }
    .ol-input-popup.arrow i.arrow2:before {
      border-width: 5px 0 5px 10px;
      right: 0;
    }
    .ol-input-popup.arrow i.arrow2:after {
      border-width: 5px 10px 5px 0;
      left: 0;
    }
  </style>

</head>
<body >
  <a href="https://github.com/Viglino/ol-ext" class="icss-github-corner"><i></i></a>

  <a href="../../index.html">
    <h1>ol-ext: input!</h1>
  </a>

  <p>
    Switch: <input class="switch" type="checkbox" />
  </p><p>
    <input class="check" type="checkbox" />
  </p>
    <input class="radio" type="radio" name="radio" />
    <input class="radio" type="radio" name="radio" />
  </p><p>
    Color: <input class="color1" />
  </p><p style="border: 1px solid #999; border-width: 1px 0; padding: .5em 0;">
    Color (fixed): 
    <span class="color" style="display: inline-block; background-color: red; width: 2.5em; height: 1.5em; vertical-align: middle;"></span>
    <input class="color2" />
  </p><p>
    Slider: 
    <span class="opacity" style="display: inline-block; background-color: red; width: 2.5em; height: 1.5em; vertical-align: middle;"></span>
    <input class='slider' type="number" style="width: 3em" value=25 min=0 max=100 />
  </p><p>
    Size: 
    <i class="fa fa-map-marker" style="line-height: 60px; width: 60px; text-align: center; vertical-align: middle;"></i> 
    <input class="slide2" type="number" style="width: 3em" value=50 min=20 max=80 />
  </p><p>
    Size:
    <i class="fa fa-map-pin" style="line-height: 60px; width: 60px; text-align: center; vertical-align: middle;"></i> 
    <input class="size" type="number" style="width: 3em" />
  </p><p>
    Size (styled):
    <input class="size2" type="number" style="width: 3em" />
  </p><p>
    Width: 
    <span class="line" style="display: inline-block; background-color: red; width: 2.5em; vertical-align: middle;"></span>
    <input class="width" type="number" style="width: 3em" />
  </p><p>
    Arrow: 
    <input class="arrow" style="width: 3em" />
  </p>


<script type="text/javascript">

  var switcher = new ol.ext.input.Switch({ input: $('.switch').get(0), html: 'off', after: 'on' });

  new ol.ext.input.Checkbox({ input: $('.check').get(0), html: 'Checkbox:', after: 'on' });
  $('.radio').each(function(i) {
    new ol.ext.input.Radio({ input: this, html: i? '' : 'Radio:', after: 'radio '+(i+1), checked: !i });
  });

  var slider = new ol.ext.input.Slider({ input: $('.slider').get(0) });
  slider.on('change:value', function(e) {
    $('.opacity').css('opacity', e.value/100);
  });
  slider.setValue(25);
  
  var slide2 = new ol.ext.input.Slider({ input: $('.slide2').get(0), type: 'size' });
  slide2.on('change:value', function(e) {
    $('.fa-map-marker').css('font-size', e.value+'px');
  });
  slide2.setValue(50);

  var cpicker = new ol.ext.input.Color({ input: $('.color1').get(0), color: 'red', fixed: false });
  cpicker.on('color', function(e) { console.log('Color:', e.color) })

  var cpicker2 = new ol.ext.input.Color({ input: $('.color2').get(0), fixed: true });
  cpicker2.on('color', function(e) { 
    $('.color').css('background-color', ol.color.asString(e.color));
  });
  cpicker2.setColor('#f90');

  var size = new ol.ext.input.Size({ input: $('.size').get(0), fixed: false });
  size.on('change:value', function(e) {
    $('.fa-map-pin').css('font-size', e.value+'px');
  });
  size.setValue(8);

  var size2 = new ol.ext.input.Size({ input: $('.size2').get(0), className: 'marker' });
  size2.setValue(8);

  var width = new ol.ext.input.Width({ input: $('.width').get(0), fixed: false });
  width.on('change:value', function(e) {
    $('.line').height(e.value)
  })
  width.setValue(8);

  var arrowElt = document.createElement('I');
  var arrow = new ol.ext.input.Popup({ 
    input: $('.arrow').get(0),
    className: 'arrow',
    html: $('<DIV>').append(arrowElt).get(0),
    disabled: true,
    align: 'middle',
    options: [{
      value: 0,
      title: 'none',
      html: '<i class="arrow0"></i>'
    },{
      value: 1,
      title: 'direct',
      html: '<i class="arrow1"></i>'
    },{
      value: -1,
      title: 'revers',
      html: '<i class="arrow-1"></i>'
    },{
      value: 2,
      title: 'both',
      html: '<i class="arrow2"></i>'
    }]
  });
  arrow.on('change:value', function(e) {
    arrowElt.className = 'arrow'+e.value
  });

</script>
  
</body>
</html>